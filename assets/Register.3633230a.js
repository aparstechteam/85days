var x=Object.defineProperty,v=Object.defineProperties;var y=Object.getOwnPropertyDescriptors;var m=Object.getOwnPropertySymbols;var w=Object.prototype.hasOwnProperty,k=Object.prototype.propertyIsEnumerable;var _=(r,e,t)=>e in r?x(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,d=(r,e)=>{for(var t in e||(e={}))w.call(e,t)&&_(r,t,e[t]);if(m)for(var t of m(e))k.call(e,t)&&_(r,t,e[t]);return r},g=(r,e)=>v(r,y(e));import{_ as E}from"./index.151c31f6.js";import{r as c,o as h,b as u,d as o,w as N,a as s,H as p,z as C,A as S}from"./vendor.0aa590d9.js";const q={name:"RegisterFrom",beforeRouteEnter(r,e,t){if(localStorage.getItem("rb85")==null){t();return}t({path:"/"})},data(){return{schema:{name:"required|min:3|max:100",email:"required|min:3|max:100|email",phone:"required|min:11|max:15",college:"required|min:4|max:100"},userData:{phone:"0"+this.$route.query.phone||""},reg_in_submission:!1,reg_show_alert:!1,reg_alert_variant:"bg-blue-500",reg_alert_msg:"Please wait! Untill your registration has been completed."}},methods:{async register(r){this.reg_show_alert=!0,this.reg_in_submission=!0,this.reg_alert_variant="bg-blue-500",this.reg_alert_msg="Please wait! Untill your registration has been completed";let e=r.phone.length,t=r.phone.substring(e-10,e),i=JSON.stringify(g(d({},r),{phone:t}));try{this.$store.dispatch("register",{body:i,router:this.$router,phone:t})}catch(a){console.log(a),this.reg_in_submission=!1,this.reg_alert_variant="bg-red-500",this.reg_alert_msg="An Unexpected error occurred. Please try again later.";return}this.reg_alert_variant="bg-green-500",this.reg_alert_msg="Success! Your account has been registered."}}},R={class:"pb-10 mx-2 mt-10 md:w-1/2 md:mx-auto poppins"},P=s("h1",{class:"text-3xl font-bold text-center"},"Register your info",-1),B={class:"form-control"},D=s("label",{class:"label"},"Name",-1),U={class:"form-control"},V=s("label",{class:"label"},"Email",-1),z={class:"form-control"},A=s("label",{class:"label"},"Phone Number",-1),M={class:"mb-3 form-control"},F=s("label",{class:"label"},"College",-1),H=["disabled"];function I(r,e,t,i,a,b){const l=c("vee-field"),n=c("ErrorMessage"),f=c("vee-form");return h(),u("div",R,[P,o(f,{"validation-schema":a.schema,onSubmit:b.register,"initial-values":a.userData},{default:N(()=>[s("div",B,[D,o(l,{type:"text",name:"name",class:"input input-bordered",placeholder:"Enter Name"}),o(n,{class:"text-red-600 dark:text-red-500",name:"name"})]),s("div",U,[V,o(l,{type:"email",name:"email",class:"input input-bordered",placeholder:"Enter Email"}),o(n,{class:"text-red-600 dark:text-red-500",name:"email"})]),s("div",z,[A,o(l,{type:"tel",name:"phone",class:"input input-bordered",placeholder:"e.g. 01612345678"}),o(n,{class:"text-red-600 dark:text-red-500",name:"phone"})]),s("div",M,[F,o(l,{type:"college",name:"college",class:"input input-bordered",placeholder:"College Name"}),o(n,{class:"text-red-600 dark:text-red-500",name:"college"})]),a.reg_show_alert?(h(),u("div",{key:0,class:p([a.reg_alert_variant,"p-5 my-4 font-bold text-center text-white"])},C(a.reg_alert_msg),3)):S("",!0),s("button",{type:"submit",class:p(["btn btn-primary btn-block",{loading:a.reg_in_submission}]),disabled:a.reg_in_submission},"Register",10,H)]),_:1},8,["validation-schema","onSubmit","initial-values"])])}var j=E(q,[["render",I]]);export{j as default};
